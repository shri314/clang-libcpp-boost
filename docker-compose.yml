version: '3'
services:
   clang-env:
      build: tools/clang
      image: shri314/clang:v12
      entrypoint: sleep 10
      restart: "no"
      user: ${CURRENT_UID}
      volumes:
         - .:/src
   clang-libcpp-env:
      build: tools/clang-libcpp
      image: shri314/clang-libcpp:v12-v10
      entrypoint: sleep 10
      restart: "no"
      user: ${CURRENT_UID}
      volumes:
         - .:/src
      depends_on:
         - clang-env
   clang-libcpp-boost-env:
      build: tools/clang-libcpp-boost
      image: shri314/clang-libcpp-boost:v12-v10-v1_75_0
      entrypoint: sleep infinity
      container_name: clang-libcpp-boost-local-env
      restart: always
      user: ${CURRENT_UID}
      volumes:
         - .:/src
      depends_on:
         - clang-libcpp-env
